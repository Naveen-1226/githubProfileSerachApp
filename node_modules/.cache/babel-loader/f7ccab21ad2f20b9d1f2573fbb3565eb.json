{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Naveen Thatipally/githubprofilesearch/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Naveen Thatipally/githubprofilesearch/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Naveen Thatipally/githubprofilesearch/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import\"./Home.css\";import User from\"../../ui/User\";import axios from\"../../../axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),limit=_useState8[0],setLimit=_useState8[1];var handleQueryInput=function handleQueryInput(e){setQuery(e.target.value);};var handlePrevPage=function handlePrevPage(){setPage(function(page){if(page===1)return page;else return page-1;});};var handleNextPage=function handleNextPage(){setPage(function(page){return page+1;});};var handlePageLimit=function handlePageLimit(e){var value=e.target.value;setLimit(parseInt(value));};var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"search/users?q=\"+query,{params:{page:page,per_page:limit}});case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;return _context.abrupt(\"return\",data===null||data===void 0?void 0:data.items);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\",null);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();var handleSearchUsers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var items;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!query){_context2.next=8;break;}_context2.next=4;return fetchUsers();case 4:items=_context2.sent;setUsers(items);_context2.next=9;break;case 8:console.log(\"Your query is empty\");case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function handleSearchUsers(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){var displayUsersOnChange=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var items;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!query){_context3.next=5;break;}_context3.next=3;return fetchUsers();case 3:items=_context3.sent;setUsers(items);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function displayUsersOnChange(){return _ref3.apply(this,arguments);};}();displayUsersOnChange().then();console.log(users);},[page,limit]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-dark bg-dark text-white text-lg-center\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Welcome to Github Search Application\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card search-form bg-dark text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header \",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Github Search User\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:handleQueryInput,placeholder:\"username\",className:\"form-control\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleSearchUsers,children:\" Search \"})]})})]})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"more-options\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"per Page\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"\",id:\"\",onChange:handlePageLimit,children:[/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"}),/*#__PURE__*/_jsx(\"option\",{value:\"20\",children:\"20\"}),/*#__PURE__*/_jsx(\"option\",{value:\"50\",children:\"50\"}),/*#__PURE__*/_jsx(\"option\",{value:\"100\",children:\"100\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevPage,children:page}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,children:page+1})]})]}),users?users.map(function(user){return/*#__PURE__*/_jsx(User,{user:user},user.id);}):/*#__PURE__*/_jsx(\"h2\",{children:\"There is nothing to display\"})]})]})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","User","axios","Home","query","setQuery","users","setUsers","page","setPage","limit","setLimit","handleQueryInput","e","target","value","handlePrevPage","handleNextPage","handlePageLimit","parseInt","fetchUsers","get","params","per_page","data","items","console","log","handleSearchUsers","preventDefault","displayUsersOnChange","then","map","user","id"],"sources":["C:/Users/Naveen Thatipally/githubprofilesearch/src/Components/Pages/Home/Home.js"],"sourcesContent":["import React,{useState,useEffect} from 'react';\r\nimport \"./Home.css\";\r\nimport User from \"../../ui/User\";\r\nimport axios from \"../../../axios\";\r\nconst Home = () =>{\r\n    const [query,setQuery]=useState(\"\");\r\n    const [users,setUsers]=useState([]);\r\n    const [page,setPage]=useState(1);\r\n    const [limit,setLimit]=useState(10);\r\n\r\n    const handleQueryInput = (e)=>{\r\n        setQuery(e.target.value);\r\n    }\r\n    const handlePrevPage=()=>{\r\n        setPage(page=>{\r\n            if(page===1) return page;\r\n            else return page-1;\r\n        });\r\n    }\r\n    const handleNextPage=()=>{\r\n        setPage(page=> page+1);\r\n    }\r\n    const handlePageLimit=(e)=>{\r\n        const value=e.target.value;\r\n        setLimit(parseInt(value));\r\n    }\r\n    const fetchUsers = async()=>{\r\n        try{\r\n\r\n            const {data}=await axios.get(\"search/users?q=\"+query,{\r\n                params:{\r\n                    page,\r\n                    per_page:limit\r\n\r\n                }\r\n            });\r\n            return data?.items;\r\n        }\r\n        catch (error){\r\n                console.log(error);\r\n                return null;\r\n        }\r\n\r\n    }\r\n    const handleSearchUsers = async (e)=>{\r\n        e.preventDefault();\r\n        if(query){\r\n            const items=await fetchUsers();\r\n            setUsers(items);\r\n\r\n        }\r\n        else{\r\n            console.log(\"Your query is empty\");\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        const displayUsersOnChange=async ()=>{\r\n            if(query)\r\n            {\r\n                const items=await fetchUsers();\r\n                setUsers(items);\r\n            }\r\n        }\r\n        displayUsersOnChange().then();\r\n        console.log(users);\r\n    },[page,limit])\r\n    return(\r\n        <React.Fragment>\r\n            <nav className=\"navbar navbar-dark bg-dark text-white text-lg-center\">\r\n                <h4>Welcome to Github Search Application</h4>\r\n            </nav>\r\n            <div className=\"container\">\r\n\r\n                <div >\r\n                    <div className=\"container\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <div className=\"card search-form bg-dark text-white\" >\r\n                                    <div className=\"card-header \">\r\n                                        <h4>Github Search User</h4>\r\n\r\n\r\n                                    </div>\r\n                                    <div className=\"card-body\">\r\n                                        <form action=\"\" className=\"form\">\r\n                                            <input type=\"text\" value={query} onChange={handleQueryInput} placeholder=\"username\" className=\"form-control\"/>\r\n                                            <br/>\r\n\r\n\r\n\r\n                                            <button className=\"btn btn-primary\" onClick={handleSearchUsers}> Search </button>\r\n                                        </form>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n                <div className=\"search-results\">\r\n                    <div className=\"more-options\">\r\n                        <label htmlFor=\"\">\r\n                            <small>per Page</small>\r\n                            <select name=\"\" id=\"\" onChange={handlePageLimit}>\r\n                                <option value=\"10\">10</option>\r\n                                <option value=\"20\">20</option>\r\n                                <option value=\"50\">50</option>\r\n                                <option value=\"100\">100</option>\r\n                            </select>\r\n                        </label>\r\n                        <div className=\"pagination\">\r\n                            <button onClick={handlePrevPage}>{page}</button>\r\n                            <button onClick={handleNextPage}>{page+1}</button>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    {users?users.map(user=>{\r\n                        return <User user={user} key={user.id}/>\r\n                    }):<h2>There is nothing to display</h2>}\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </React.Fragment>\r\n\r\n\r\n\r\n    );\r\n\r\n\r\n\r\n};\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}